Unit tests.

I am hoping to get some more unit tests written but we will 
see how far I get into unit testing.
